{% extends "base/base.html" %}
{% block content %}

<div class="container-fluid">
  <br>
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-2">
      <h4><strong>{{ referee.name_common }}</strong></h4>
      <img src="{{ referee.image_url }}">
    </div>
    <div class="col-md-8">
      <br>
      <br>
      <div class="card-deck">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title"><strong>Debuts</strong></h5>
            <p class="card-text">
              <ul>
                <li>
                  <strong>First Match: </strong>{{ first_match.match_date}}<br>
                  {{ first_match.home_club.name }} vs {{ first_match.away_club.name }}
                </li>
                <br>
                <li>
                  <strong>Latest Match: </strong>{{ last_match.match_date}}<br>
                  {{ last_match.home_club.name }} vs {{ last_match.away_club.name }}
                </li>
              </ul>
            </p>
          </div>
        </div>
        <div class="card">
          <div class="card-body">
            <h5 class="card-title"><strong>Career Totals</strong></h5>
            <p class="card-text">
              <ul>
                {% if career_totals.centers %}
                <li><strong>Centers: </strong>{{ career_totals.centers }}</li>
                <li><strong>Fourth Officials: </strong>{{ career_totals.fourths }}</li>
                <li><strong>Yellow Cards: </strong>{{ career_totals.yellow_cards }}</li>
                <li><strong>Red Cards: </strong>{{ career_totals.red_cards }}</li>
                <li><strong>Fouls: </strong>{{ career_totals.fouls }}</li>
                <li><strong>Penalties: </strong>{{ career_totals.penalties }}</li>
                {% else %}
                <li><strong>Total Assignments: </strong>{{ career_totals.total_assignments }}</li>
                <br>
                <li><strong>AR 1 Assignments: </strong>{{ career_totals.ar1 }}</li>
                <br>
                <li><strong>AR 2 Assignments: </strong>{{ career_totals.ar2 }}</li>
                {% endif %}
              </ul>
            </p>
          </div>
        </div>
        <div class="card">
          <div class="card-body">
            {% if career_totals.centers%}
            <h5 class="card-title"><strong>Career Averages</strong></h5>
            {% else %}
            <h5 class="card-title">Most Frequently Worked With Referees</h5>
            {% endif %}
            <p class="card-text">
              <ul>
                {% if career_totals.centers %}
                <li>{{ career_averages.yellow_cards }} Yellow Cards Per Game</li>
                <li>1 Red Card Per {{ career_averages.red_cards }} Games</li>
                <li>{{ career_averages.fouls }} Fouls Per Game</li>
                <li>1 Penalty Per {{ career_averages.penalties }} Games</li>
                {% endif %}
              </ul>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-1"></div>
  </div>
  <br>
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-10">
      <table id="dtBasicExample" class="table table-sm table-bordered" cellspacing="0" width="100%">
        <thead>
          <tr>
            <th class="th-sm">Date
            </th>
            <th class="th-sm">Home Team
            </th>
            <th class="th-sm">Home Score
            </th>
            <th class="th-sm">Away Fouls
            </th>
            <th class="th-sm">Home Yellow Cards
            </th>
            <th class="th-sm">Home Red Cards
            </th>
            <th class="th-sm">Home Penalties
            </th>
            <th class="th-sm">Away Team
            </th>
            <th class="th-sm">Away Score
            </th>
            <th class="th-sm">Away Fouls
            </th>
            <th class="th-sm">Away Yellow Cards
            </th>
            <th class="th-sm">Away Red Cards
            </th>
            <th class="th-sm">Away Penalties
            </th>
          </tr>
        </thead>
        <tbody>
          {% for match in matches %}
          <tr>
            <td>{{ match.match_date }}</td>
            <td>{{ match.home_club.name }}</td>
            <td><strong>{{ match.home_score }}</strong></td>
            <td>{{ match.home_fouls }}</td>
            <td>{{ match.home_cards_yellow }}</td>
            <td>{{ match.home_cards_red }}</td>
            <td>{{ match.home_penalties }}</td>
            <td>{{ match.away_club.name }}</td>
            <td><strong>{{ match.away_score }}</strong></td>
            <td>{{ match.away_fouls }}</td>
            <td>{{ match.away_cards_yellow }}</td>
            <td>{{ match.away_cards_red }}</td>
            <td>{{ match.away_penalties }}</td>
          </tr>
          {% endfor %}
        </tbody>
        <tfoot>
          <tr>
            <th>Date
            </th>
            <th>Home Team
            </th>
            <th>Home Score
            </th>
            <th>Away Fouls
            </th>
            <th>Home Yellow Cards
            </th>
            <th>Home Red Cards
            </th>
            <th>Home Penalties
            </th>
            <th>Away Team
            </th>
            <th>Away Score
            </th>
            <th>Away Fouls
            </th>
            <th>Away Yellow Cards
            </th>
            <th>Away Red Cards
            </th>
            <th>Away Penalties
            </th>
          </tr>
        </tfoot>
      </table>
    </div>
    <div class="col-md-2"></div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  console.log('WOW');
  $(document).ready(function () {
    $('#dtBasicExample').DataTable({
      "pagingType": "first_last_numbers"
    });
    $('.dataTables_length').addClass('bs-select');
  });
</script>
{% endblock %}